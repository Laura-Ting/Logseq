## MVC 3 Layer Architecture
	- ### from C/S Architecture to B/S Achitecture
		- Layer vs Tier
		  collapsed:: true
			- Layer represent logic layering
			- Tier represent physical layering
		- from centralized computing to 2 tiers C/S mode
		  collapsed:: true
			- former centralized computing: terminal + host, but the terminal doesn't have computing power
			- later PC have computing power
		- 应用程序的物理划分
		  collapsed:: true
			- CS物理2层：客户端和服务器
			- CS logic 3 layers：Data, Application Logic, Presentation
			  collapsed:: true
				- Fat Server, Thin Client
					- problem:
				- Thin Server, Fat Client
					- problem: if the app changes, every client should change
					- solution: update driver detect new version
			- CS physical 3 tiers: Client, Application Services, DBMS
				- fit with 3 logic layers
				- quit popular
			- BS : Browser, Application Services, DBMS
	- ### MVC
		- Model-View-Controller Architecture
		  collapsed:: true
			- View: collect and present data, capture and respond to user actions
			- Controller
			- Model
		- main idea: controller 解耦
		- the evolution of MVC
		  collapsed:: true
			- BS: Browser replace Client
			  collapsed:: true
				- Web application
				  collapsed:: true
					- browser can only parse static HTML
					- to show dynamic pages->Servlet
				- Servlet
				  collapsed:: true
					- use an out writer to embed html in java
					- what if the html is big->JSP
				- JSP
					- embed java in html
					- all logic is handled by JSP, let alone单一职责
				- JSP Model1
				- JSP Model2
					- Servlet->Controller
					- JSP->View
					- JavaBean->Model
				- the Genera
		- the different patterns of MVC
			- the first interaction
			  collapsed:: true
				- ![image.png](../assets/image_1702016277589_0.png){:height 148, :width 459}
				-
			- the second interaction(more popular)
			  collapsed:: true
				- ![image.png](../assets/image_1702016297580_0.png)
		- the variants of MVC
			- MVP
			  collapsed:: true
				- ![image.png](../assets/image_1701739534326_0.png)
				-
			- MVVM
			  collapsed:: true
				- ![image.png](../assets/image_1701739637354_0.png)
				- ViewModel replace Presenter
				-
	- ### MVC Architecture Analysis
	  collapsed:: true
		- Model
		  collapsed:: true
			- aka: domain, pojo, entity
			- domain model
			  collapsed:: true
				- generally called the domain model: an abstraction and simplification of the domain
				- domain->scope
			- Classification
			  collapsed:: true
				- Anemic Domain Model
				  collapsed:: true
					- "Blood" is logic
					- contain little or no logic->eg: our entity, logic is put to service
					- dis: anemic is not object-oriented, obj needs the combination of data and logic,
				- Rich Domain Model
				  collapsed:: true
					- entity contains both data and logic
			- Internal partition
			  collapsed:: true
				- Infrastructure Service
					- versatility
				- Data Access Layer
				- Business Service
				- Business Facade
					- coordinate different functions from different Service Layer
			- CQRS
			  collapsed:: true
				- Command Query Responsibility Segregation
				- "read" and "write" is separated
				- only two interfaces
				  collapsed:: true
					- Command-write
					- Query-read
				- the second mode of MVC is fit with CQRS
					- dont change
		- View
		  collapsed:: true
			- the components which display data with aim and regular
			  collapsed:: true
				- xml, json
				- pages
			- Decoupling
				- divide into layers:
				  collapsed:: true
					- structure(HTML)
					- presentation(CSS)
					- action(JS)
				- disassemble the pages(divide and conquer): header, footer...
				- data-template: the static html + dynamic data
					- jsp, Velocity, FreeMarker, Thymeleaf(Spring Boot)
					- the place of Integration
						- in client
							- data
								- data can be got from center node asynchronously
							- template and static resources
								- CDN(Content Delivery Network): get the content from the nearest node
						- in server
							- SSI
		- Controller
			- effect: should be thin, not contain business logic
			- process flow
			  collapsed:: true
				- Path mapping and view pointing
				- Request parameter binding
				- Parameter verification
				  collapsed:: true
					- Rich blood model put this work in the Model Layer
				- View context binding
	- ### MVC vs Three Layer
		- main idea
		  collapsed:: true
			- MVC: Controller coordinate which Model match with which View
		- responsibility
		- interaction
			- Three Layer: can't cross-layer call
- ## Data Flow Architecture
	- ### Intro
	  collapsed:: true
		- program
		  collapsed:: true
			- ![Replaced by Image Uploader](https://raw.githubusercontent.com/qugushihua/blog-images/master/202312120813626.png)
		- diagram
		  collapsed:: true
			- when data arrives, components are invoked, otherwise dormant
			  collapsed:: true
				- ![Replaced by Image Uploader](https://raw.githubusercontent.com/qugushihua/blog-images/master/202312120814668.png)
	- ### Batch sequence
	  collapsed:: true
		- Def
		  collapsed:: true
			- components are independent
			- components are handled in order, the next begins until the last ends
			- data is transferred as a whole
		- Application
		  collapsed:: true
			- GUI: image process filters
				- T1->Blur->Sharpen->Brighten->EdgeDetect->T5
	- ### Pipes and filters
	  collapsed:: true
		- App
		- Pattern
		  collapsed:: true
			- Filter completes data processing in one step
			- Data Source/ Data
		- Support in Java
		  collapsed:: true
			- IO Stream Classification
			  collapsed:: true
				- stream: input/ output stream
				- data unit:
				- character:
		- Theory
		  collapsed:: true
			- Design Filter
			- Design Pipe
			- How to call?
			  collapsed:: true
				- active Filter
				- active Pipe
					- Pipe call Filter
			- Class Diagram
			  collapsed:: true
				- Filter needs to know the two pipes beside it
				  collapsed:: true
					- ![Replaced by Image Uploader](https://raw.githubusercontent.com/qugushihua/blog-images/master/202312120915254.png)
				- func process is abstract, pipe needs to provide func read and write
				  collapsed:: true
					- ![Replaced by Image Uploader](https://raw.githubusercontent.com/qugushihua/blog-images/master/202312120916394.png)
-